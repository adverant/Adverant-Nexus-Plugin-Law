# Nexus Law Environment Configuration
# Copy this file to .env and fill in your values

# =============================================================================
# SERVER CONFIGURATION
# =============================================================================
NODE_ENV=development
PORT=9200

# =============================================================================
# DATABASE (PostgreSQL)
# =============================================================================
DB_HOST=localhost
DB_PORT=9201
DB_NAME=nexus_law
DB_USER=nexus_law_user
DB_PASSWORD=change-me-in-production
DB_POOL_SIZE=20

# =============================================================================
# REDIS CACHE
# =============================================================================
REDIS_URL=redis://localhost:9202

# =============================================================================
# JWT AUTHENTICATION
# =============================================================================
JWT_SECRET=change-me-in-production-use-long-random-string
JWT_EXPIRES_IN=7d

# =============================================================================
# RATE LIMITING
# =============================================================================
RATE_LIMIT_WINDOW_MS=900000    # 15 minutes in milliseconds
RATE_LIMIT_MAX=100              # Max requests per window

# =============================================================================
# NEXUS STACK SERVICES
# =============================================================================

# MageAgent - Multi-agent legal intelligence
MAGEAGENT_URL=http://localhost:9080
GRAPHRAG_WS_URL=http://localhost:9090

# GraphRAG - Document DNA, semantic search, citation networks
GRAPHRAG_URL=http://localhost:9090
GRAPHRAG_WS_URL=http://localhost:9090

# FileProcess - High-volume document processing
FILEPROCESS_URL=http://localhost:9096
FILEPROCESS_WS_URL=http://localhost:9096

# =============================================================================
# CORS CONFIGURATION
# =============================================================================
CORS_ORIGIN=*

# =============================================================================
# CIRCUIT BREAKER
# =============================================================================
CIRCUIT_BREAKER_THRESHOLD=5       # Failures before opening circuit
CIRCUIT_BREAKER_TIMEOUT=60000     # Milliseconds before attempting reset

# =============================================================================
# LEGAL DATABASE ADAPTERS (Optional)
# =============================================================================

# CourtListener (Free) - Already enabled by default
# No API key required for basic usage

# LexisNexis (Commercial)
# LEXISNEXIS_API_KEY=your-api-key-here
# LEXISNEXIS_API_URL=https://api.lexisnexis.com

# Westlaw (Commercial)
# WESTLAW_API_KEY=your-api-key-here
# WESTLAW_API_URL=https://api.westlaw.com

# Casetext (Commercial)
# CASETEXT_API_KEY=your-api-key-here
# CASETEXT_API_URL=https://api.casetext.com

# =============================================================================
# LOGGING
# =============================================================================
LOG_LEVEL=info                    # debug, info, warn, error

# =============================================================================
# SECURITY
# =============================================================================
# In production, ensure:
# - JWT_SECRET is a strong random string (min 64 characters)
# - DB_PASSWORD is strong and unique
# - CORS_ORIGIN is restricted to your frontend domains
# - All API keys are kept secret and rotated regularly
